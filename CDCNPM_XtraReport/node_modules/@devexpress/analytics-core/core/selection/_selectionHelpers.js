/**
* DevExpress Analytics (core\selection\_selectionHelpers.js)
* Version:  21.2.7
* Build date: Apr 13, 2022
* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
* License: https://www.devexpress.com/Support/EULAs/universal.xml
*/
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var undoengine_1 = require("../../undo-engine/undoengine");
function deleteSelection(selection) {
    var focused = selection.focused();
    selection.selectedItems.forEach(function (item) {
        var itemModel = item.getControlModel(), parent = itemModel.parentModel();
        if (!item.getControlModel().getMetaData().isDeleteDeny && parent && item !== focused) {
            parent.removeChild(itemModel);
        }
    });
    var model = focused.getControlModel();
    var undo = undoengine_1.UndoEngine.tryGetUndoEngine(model.parentModel());
    undo && undo.start();
    model.parentModel().removeChild(model);
    undo && undo.end();
    selection.focused(focused.findNextSelection());
}
exports.deleteSelection = deleteSelection;
