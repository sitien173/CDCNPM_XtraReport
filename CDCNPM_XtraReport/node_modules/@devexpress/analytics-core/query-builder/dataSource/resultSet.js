/**
* DevExpress Analytics (query-builder\dataSource\resultSet.js)
* Version:  21.2.7
* Build date: Apr 13, 2022
* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
* License: https://www.devexpress.com/Support/EULAs/universal.xml
*/
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var serializer_1 = require("../../serializer/serializer");
var utils_1 = require("../../serializer/utils");
var resultTable_1 = require("./resultTable");
var resultSetSerializationInfo = [
    { propertyName: 'name', modelName: '@Name' },
    { propertyName: 'tables', modelName: 'Views', array: true }
];
var ResultSet = (function () {
    function ResultSet(model, serializer) {
        serializer = serializer || new serializer_1.ModelSerializer();
        serializer.deserialize(this, model);
        this.tables = utils_1.deserializeArray(model && model['Views'] || [], function (item) {
            return new resultTable_1.ResultTable(item, serializer);
        });
    }
    ResultSet.prototype.getInfo = function () {
        return resultSetSerializationInfo;
    };
    ResultSet.from = function (model, serializer) {
        return model && new ResultSet(model['DataSet'], serializer) || null;
    };
    ResultSet.toJson = function (value, serializer, refs) {
        return { 'DataSet': serializer.serialize(value, resultSetSerializationInfo, refs) };
    };
    return ResultSet;
}());
exports.ResultSet = ResultSet;
