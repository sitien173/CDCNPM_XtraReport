/**
* DevExpress Analytics (undo-engine\_utils.js)
* Version:  21.2.7
* Build date: Apr 13, 2022
* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
* License: https://www.devexpress.com/Support/EULAs/universal.xml
*/
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ko = require("knockout");
function propertiesVisitor(target, visitor, visited, skip) {
    if (visited === void 0) { visited = []; }
    if (skip === void 0) { skip = ['surface']; }
    if (target && target !== undefined) {
        var properties = [];
        Object.keys(target).forEach(function (propertyName) {
            if (propertyName.indexOf('_') !== 0 && skip.indexOf(propertyName) === -1) {
                var realPropertyName = propertyName;
                if (ko.isComputed(target[propertyName]) && ko.isWritableObservable(target['_' + propertyName])) {
                    realPropertyName = '_' + realPropertyName;
                }
                if (visited.indexOf(target[realPropertyName]) === -1 && !ko.isComputed(target[realPropertyName])) {
                    properties.push(target[realPropertyName]);
                }
            }
        });
        visitor(properties);
        visited.push.apply(visited, properties);
        properties.forEach(function (property) {
            property = ko.unwrap(property);
            if (typeof property === 'object') {
                propertiesVisitor(property, visitor, visited, skip);
            }
        });
    }
}
exports.propertiesVisitor = propertiesVisitor;
function checkModelReady(model) {
    return model.isModelReady ? model.isModelReady() : true;
}
exports.checkModelReady = checkModelReady;
function guid() {
    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
        var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);
        return v.toString(16);
    });
}
exports.guid = guid;
